<head>
    <title>Fields3 Demo</title>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>
    <p><button class='button add-movie'>Add Movie</button></p>
    {{> editContent}}
    {{> viewContent}}
    
</body>

<template name="editContent">
    <h1>Edit Movies</h1>
    {{#each movies}}
    <h2>Movie: {{#textField name}}{{value}}{{/textField}}</h2>
    {{#textField name}}
    <p>Name:&nbsp;
    {{#if ready}}
    <input type="text" class="{{inputId}}" value="{{value}}" />
    {{/if}}
    </p>
    {{/textField}}
    {{#select genre}}
    <p>Genre:
    <select>
        {{#each options}}
        <option {{selected}}>{{option}}</option>
        {{/each}}
    </select>
    </p>
    {{/select}}
    {{#textField tagline}}
    <p>Tagline:&nbsp;
    {{#if ready}}
    <input type="text" class="{{inputId}}" value="{{value}}" />
    {{/if}}
    </p>
    {{/textField}}
    {{#textArea summary}}
    <div>Description:&nbsp;<span>
        {{#if stalling}}<i class="fa fa-cog fa-spin"></i>{{/if}}
    </span></div>
    {{> toolbar}}
    <div class="editor {{inputId}}">{{#if ready}}{{{valueSnapshot}}}{{else}}...loading...{{/if}}</div>
    {{/textArea}}
    {{> actorsList}}
    {{> plotKeywords}}
    {{/each}}
</template>

<template name="toolbar">
    <div class="toolbar btn-toolbar {{toolbarId}}" data-role="editor-toolbar" data-target="#{{inputId}}">
        <!--Avoid anchor tags, they result in strange focus behaviour-->
        <div class="btn-group">
            <button class="btn btn-small" data-edit="bold" title="Bold (Ctrl/Cmd+B)"><i class="fa fa-bold"></i></button>
            <button class="btn btn-small" data-edit="italic" title="Italic (Ctrl/Cmd+I)"><i class="fa fa-italic"></i></button>
            <button class="btn btn-small" data-edit="strikethrough" title="Strikethrough"><i class="fa fa-strikethrough"></i></button>
            <button class="btn btn-small" data-edit="underline" title="Underline (Ctrl/Cmd+U)"><i class="fa fa-underline"></i></button>
        </div>
        <div class="btn-group">
            <button class="btn btn-small" data-edit="insertunorderedlist" title="Bullet list"><i class="fa fa-list-ul"></i></button>
            <button class="btn btn-small" data-edit="insertorderedlist" title="Number list"><i class="fa fa-list-ol"></i></button>
            <button class="btn btn-small" data-edit="outdent" title="Reduce indent (Shift+Tab)"><i class="fa fa-outdent"></i></button>
            <button class="btn btn-small" data-edit="indent" title="Indent (Tab)"><i class="fa fa-indent"></i></button>
        </div>
        <div class="btn-group">
            <button class="btn btn-small" data-edit="justifyleft" title="Align Left (Ctrl/Cmd+L)"><i class="fa fa-align-left"></i></button>
            <button class="btn btn-small" data-edit="justifycenter" title="Center (Ctrl/Cmd+E)"><i class="fa fa-align-center"></i></button>
            <button class="btn btn-small" data-edit="justifyright" title="Align Right (Ctrl/Cmd+R)"><i class="fa fa-align-right"></i></button>
            <button class="btn btn-small" data-edit="justifyfull" title="Justify (Ctrl/Cmd+J)"><i class="fa fa-align-justify"></i></button>
        </div>
        <!-- saved indicator? -->
    </div>
</template>

<template name="actorsList">
    {{#list actors}}
    <h3>Actors:</h3>
    <ul class="thumbnails">
        {{#each items}}
        {{> actor}}
        {{/each}}
    </ul>
    <button class="btn btn-small {{appendId}}">
        <i class="icon-plus"></i>
    </button>
    {{/list}}
</template>

<template name="plotKeywords">
    <h3>Plot Keywords:</h3>
    {{#list plotKeywords}}
     <span>
       {{#each items}}
            {{#textField keyword}}
            {{#if ready}}
            <input class="input-small {{inputId}}" type="text" value="{{value}}">
            {{/if}}
            {{/textField}}
       {{/each}}
       <button class="btn btn-small {{appendId}}">
            <i class="icon-plus"></i>
       </button>
    </span>
    {{/list}}
</template>

<template name="actor">
    <li class="span4">
        <div>
            <span>Name:&nbsp;</span>
            {{#textField actorName}}
            {{#if ready}}
            <input type="text" class="{{inputId}}" value="{{value}}" />
            {{/if}}
            {{/textField}}
        </div>

        <div>
            <span>Country:&nbsp;</span>
            {{#textField actorCountry}}
            {{#if ready}}
            <input type="text" class="{{inputId}}" value="{{value}}" />
            {{/if}}
            {{/textField}}
        </div>
        {{> quotes}}
    </li>
</template>

<template name="quotes">
    <h4>Quotes:</h4>
    {{#list quotes}}
    {{#each items}}
        <div>
        {{#textField quote}}
        {{#if ready}}
        <input class="input-xlarge {{inputId}}" type="text" value="{{value}}">
        {{/if}}
        {{/textField}}
        </div>
    {{/each}}
    <button class="btn btn-small {{appendId}}">
        <i class="icon-plus"></i>
    </button>
    {{/list}}
</template>

<template name="viewContent">
    <h1>View Movies</h1>
    {{#each movies}}
    <p>Some content</p>
    {{#textField name}}
    <span>Name:&nbsp;</span><span>{{value}}</span>
    {{/textField}}
    <hr/>
    {{/each}}
</template>
